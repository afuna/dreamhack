<html><head><title>DW::Captcha</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw " type="text/css" href="../blkbluw_.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk " type="text/css" href="../whtpurk_.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng " type="text/css" href="../whtgrng_.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw " type="text/css" href="../grygrnw_.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.13,
  using Pod::Simple::PullParser v3.13,
  under Perl v5.010001 at Wed Feb 27 00:00:03 2013 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#API'>API</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#DW%3A%3ACaptcha-%3Enew(_%24implementation%2C_%24page%2C_%25opts_)'>DW::Captcha-&#62;new( $implementation, $page, %opts )</a>
    <li class='indexItem indexItem2'><a href='#%24class-%3Ename'>$class-&#62;name</a>
    <li class='indexItem indexItem2'><a href='#%24captcha-%3Eform_fields'>$captcha-&#62;form_fields</a>
    <li class='indexItem indexItem2'><a href='#%24captcha-%3Esite_enabled'>$captcha-&#62;site_enabled</a>
    <li class='indexItem indexItem2'><a href='#%24captcha-%3Eprint'>$captcha-&#62;print</a>
    <li class='indexItem indexItem2'><a href='#%24captcha-%3Evalidate(_%25opts_)'>$captcha-&#62;validate( %opts )</a>
    <li class='indexItem indexItem2'><a href='#%24captcha-%3Eenabled(_%24page_)'>$captcha-&#62;enabled( $page )</a>
    <li class='indexItem indexItem2'><a href='#%24captcha-%3Epage'>$captcha-&#62;page</a>
    <li class='indexItem indexItem2'><a href='#%24captcha-%3Echallenge'>$captcha-&#62;challenge</a>
    <li class='indexItem indexItem2'><a href='#%24captcha-%3Eresponse'>$captcha-&#62;response</a>
  </ul>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>DW::Captcha - This module handles CAPTCHA throughout the site</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<p>Here&#39;s the simplest method:</p>

<pre>    # print out the captcha form fields on a particular page
    my $captcha = DW::Captcha-&#62;new( $page );
    if ( $captcha-&#62;enabled ) {
        $captcha-&#62;print;
    }

    # elsewhere, process the post
    if ( $r-&#62;did_post ) {
        my $captcha = DW::Captcha-&#62;new( $page, %{$r-&#62;post_args} );

        my $captcha_error;
        push @errors, $captcha_error unless $captcha-&#62;validate( err_ref =&#62; \$captcha_error );
    }</pre>

<p>When using in conjunction with LJ::Widget subclasses, you can just specify the form field names and let the widget handle it:</p>

<pre>    LJ::Widget-&#62;use_specific_form_fields( post =&#62; \%POST, widget =&#62; &#34;...&#34;, fields =&#62; [ DW::Captcha-&#62;form_fields ] )
        if DW::Captcha-&#62;enabled( &#39;create&#39; );</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="API"
>API</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="DW::Captcha-&#62;new(_$implementation,_$page,_%opts_)"
><code>DW::Captcha-&#62;new( $implementation, $page, %opts )</code></a></h2>

<p>Arguments:</p>

<dl>
<dt><a name="page_-_the_page_we&#39;re_going_to_display_this_CAPTCHA_on"
>page - the page we&#39;re going to display this CAPTCHA on</a></dt>

<dd>
<dt><a name="implementation_-_which_CAPTCHA_implementation_we&#39;d_like_to_use"
>implementation - which CAPTCHA implementation we&#39;d like to use</a></dt>

<dd>
<dt><a name="a_hash_of_additional_options,_including_the_request/response_from_a_form_post"
>a hash of additional options, including the request/response from a form post</a></dt>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$class-&#62;name"
><code>$class-&#62;name</code></a></h2>

<p>The name used to refer to this CAPTCHA implementation.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$captcha-&#62;form_fields"
><code>$captcha-&#62;form_fields</code></a></h2>

<p>Returns a list of the form fields expected by the CAPTCHA implementation.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$captcha-&#62;site_enabled"
><code>$captcha-&#62;site_enabled</code></a></h2>

<p>Whether CAPTCHA is enabled site-wide. (Specific pages may have CAPTCHA disabled)</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$captcha-&#62;print"
><code>$captcha-&#62;print</code></a></h2>

<p>Print the CAPTCHA form fields.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$captcha-&#62;validate(_%opts_)"
><code>$captcha-&#62;validate( %opts )</code></a></h2>

<p>Return whether the response for this CAPTCHA was valid.</p>

<p>Arguments:</p>

<dl>
<dt><a 
>opts - a hash of additional options, including the request/response from a form post and an error reference (err_ref) which may contain additional information in case the validation failed</a></dt>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$captcha-&#62;enabled(_$page_)"
><code>$captcha-&#62;enabled( $page )</code></a></h2>

<p>Whether this CAPTCHA implementation is enabled on this particular page (or sitewide if this captcha instance isn&#39;t tied to a specific page)</p>

<p>Arguments:</p>

<dl>
<dt><a name="page_-_Optional._A_specific_page_to_check"
>page - Optional. A specific page to check</a></dt>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$captcha-&#62;page"
><code>$captcha-&#62;page</code></a></h2>

<p>Return the page that this CAPTCHA instance is going to be used with</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$captcha-&#62;challenge"
><code>$captcha-&#62;challenge</code></a></h2>

<p>Challenge text, provided by the CAPTCHA implementation</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$captcha-&#62;response"
><code>$captcha-&#62;response</code></a></h2>

<p>User-provided response text</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
