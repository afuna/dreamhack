<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!--
This file was generated by Devel::Cover Version 0.61
Devel::Cover is copyright 2001-2006, Paul Johnson (pjcj@cpan.org)
Devel::Cover is free. It is licensed under the same terms as Perl itself.
The latest version of Devel::Cover should be available from my homepage:
http://www.pjcj.net
-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
    <meta http-equiv="Content-Language" content="en-us"></meta>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <title>Branch Coverage: cgi-bin/LJ/EmbedModule.pm</title>
</head>
<body>
<h1>Branch Coverage</h1>
<table>
<tr><td class="h" align="right">File:</td><td align="left">cgi-bin/LJ/EmbedModule.pm</td></tr>
<tr><td class="h" align="right">Coverage:</td><td align="left" class="c0">10.6%</td></tr>
</table>
<div><br/></div>
<table>
<tr><th>line</th><th>%</th><th colspan="2">coverage</th><th>branch</th></tr>
<tr><td class="h"><a id="L30">30</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless my $journal = $opts{&#39;journal&#39;}</td></tr>
<tr><td class="h"><a id="L35">35</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless (defined $id)</td></tr>
<tr><td class="h"><a id="L36">36</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless $id = LJ::alloc_user_counter($journal, &#39;D&#39;)</td></tr>
<tr><td class="h"><a id="L44">44</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">$preview ? :</td></tr>
<tr><td class="h"><a id="L47">47</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $journal-&gt;err</td></tr>
<tr><td class="h"><a id="L59">59</a></td><td class="c0">50</td><td class="c3">T</td><td class="c0">F</td><td class="s">unless $txt and $txt =~ /ljembed/i</td></tr>
<tr><td class="h"><a id="L83">83</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless $attrs{&#39;id&#39;}</td></tr>
<tr><td class="h"><a id="L85">85</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($opts{&#39;expand_full&#39;}) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif ($edit) { }</td></tr>
<tr><td class="h"><a id="L104">104</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">unless $postref and $$postref</td></tr>
<tr><td class="h"><a id="L106">106</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">unless LJ::is_enabled(&#39;embed_module&#39;)</td></tr>
<tr><td class="h"><a id="L109">109</a></td><td class="c3">100</td><td class="c3">T</td><td class="c3">F</td><td class="s">unless $$postref =~ /(lj|site)\-embed|embed|object/i</td></tr>
<tr><td class="h"><a id="L121">121</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">if ($edit || $expand and not $preview)</td></tr>
<tr><td class="h"><a id="L141">141</a></td><td class="c0">50</td><td class="c3">T</td><td class="c0">F</td><td class="s">if ($state == 1) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif ($state == 2) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif ($state == 3) { }</td></tr>
<tr><td class="h"><a id="L142">142</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">if ($tag eq &#39;lj-embed&#39; || $tag eq &#39;site-embed&#39; and $type eq &#39;S&#39; and not $$attr{&#39;/&#39;}) { }</td></tr>
<tr><td class="h"></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">elsif ($tag eq &#39;object&#39; || $tag eq &#39;embed&#39; and $type eq &#39;S&#39;) { }</td></tr>
<tr><td class="h"><a id="L147">147</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $$attr{&#39;id&#39;}</td></tr>
<tr><td class="h"><a id="L148">148</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">$$attr{&#39;width&#39;} &gt; 800 ? :</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $$attr{&#39;width&#39;}</td></tr>
<tr><td class="h"><a id="L149">149</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">$$attr{&#39;height&#39;} &gt; 800 ? :</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $$attr{&#39;height&#39;}</td></tr>
<tr><td class="h"><a id="L153">153</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless ($$attr{&#39;/&#39;})</td></tr>
<tr><td class="h"><a id="L165">165</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($tag eq &#39;object&#39; or $tag eq &#39;embed&#39;)</td></tr>
<tr><td class="h"><a id="L166">166</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($type eq &#39;E&#39;) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif ($type eq &#39;S&#39;) { }</td></tr>
<tr><td class="h"><a id="L169">169</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $stack[-1] eq $tag</td></tr>
<tr><td class="h"><a id="L171">171</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless @stack</td></tr>
<tr><td class="h"><a id="L175">175</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless $$attr{&#39;/&#39;}</td></tr>
<tr><td class="h"><a id="L183">183</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($tag eq &#39;lj-embed&#39; || $tag eq &#39;site-embed&#39; and $type eq &#39;E&#39;) { }</td></tr>
<tr><td class="h"><a id="L197">197</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">if ($newstate == 1 and $embed)</td></tr>
<tr><td class="h"><a id="L198">198</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">$preview ? :</td></tr>
<tr><td class="h"><a id="L205">205</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">exists $embed_attrs{$_} ? :</td></tr>
<tr><td class="h"><a id="L212">212</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">if defined $newstate</td></tr>
<tr><td class="h"><a id="L223">223</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless LJ::is_enabled(&#39;embed_module&#39;)</td></tr>
<tr><td class="h"><a id="L242">242</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless ($opts{&#39;width&#39;} and $opts{&#39;height&#39;})</td></tr>
<tr><td class="h"><a id="L245">245</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">$$token[1] ? :</td></tr>
<tr><td class="h"><a id="L248">248</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($type eq &#39;S&#39;)</td></tr>
<tr><td class="h"><a id="L251">251</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($$attr{&#39;width&#39;})</td></tr>
<tr><td class="h"><a id="L253">253</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $elewidth &gt; $width</td></tr>
<tr><td class="h"><a id="L255">255</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($$attr{&#39;height&#39;})</td></tr>
<tr><td class="h"><a id="L257">257</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $eleheight &gt; $height</td></tr>
<tr><td class="h"><a id="L262">262</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($tag eq &#39;object&#39; or $tag eq &#39;embed&#39;) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif ($tag ne &#39;param&#39;) { }</td></tr>
<tr><td class="h"><a id="L264">264</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless $src = $$attr{&#39;src&#39;}</td></tr>
<tr><td class="h"><a id="L267">267</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">defined $elewidth ? :</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">defined $eleheight ? :</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">defined $flashvars ? :</td></tr>
<tr><td class="h"><a id="L280">280</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $embedcodes</td></tr>
<tr><td class="h"><a id="L291">291</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $width</td></tr>
<tr><td class="h"><a id="L292">292</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $height</td></tr>
<tr><td class="h"><a id="L296">296</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $opts{&#39;width&#39;}</td></tr>
<tr><td class="h"><a id="L297">297</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $opts{&#39;height&#39;}</td></tr>
<tr><td class="h"><a id="L303">303</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $width &lt; 50</td></tr>
<tr><td class="h"><a id="L304">304</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $width &gt; 800</td></tr>
<tr><td class="h"><a id="L305">305</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $height &lt; 50</td></tr>
<tr><td class="h"><a id="L306">306</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $height &gt; 800</td></tr>
<tr><td class="h"><a id="L317">317</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless $remote</td></tr>
<tr><td class="h"><a id="L318">318</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $opts{&#39;edit&#39;}</td></tr>
<tr><td class="h"><a id="L328">328</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">$r ? :</td></tr>
<tr><td class="h"><a id="L329">329</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (not $placeholder_prop and $view eq &#39;friends&#39;)</td></tr>
<tr><td class="h"><a id="L331">331</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $no_whitelist</td></tr>
<tr><td class="h"><a id="L334">334</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless $do_placeholder</td></tr>
<tr><td class="h"><a id="L349">349</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless defined $moduleid</td></tr>
<tr><td class="h"><a id="L352">352</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless my $journalid = $opts{&#39;journalid&#39;} + 0</td></tr>
<tr><td class="h"><a id="L353">353</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless my $journal = LJ::load_userid($journalid)</td></tr>
<tr><td class="h"><a id="L354">354</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $journal-&gt;is_expunged</td></tr>
<tr><td class="h"><a id="L361">361</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless (defined $content)</td></tr>
<tr><td class="h"><a id="L362">362</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">$preview ? :</td></tr>
<tr><td class="h"><a id="L366">366</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $journal-&gt;err</td></tr>
<tr><td class="h"><a id="L372">372</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $content =~ s/^C-//</td></tr>
<tr><td class="h"><a id="L375">375</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (LJ::is_enabled(&#39;embedmodule-cleancontent&#39;))</td></tr>
<tr><td class="h"><a id="L394">394</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($dbload)</td></tr>
<tr><td class="h"><a id="L399">399</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">defined $dbid ? :</td></tr>
<tr><td class="h"><a id="L408">408</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">$preview ? :</td></tr>
<tr><td class="h"><a id="L417">417</a></td><td class="c3">100</td><td class="c3">T</td><td class="c3">F</td><td class="s">if ($type eq &#39;S&#39;) { }</td></tr>
<tr><td class="h"></td><td class="c3">100</td><td class="c3">T</td><td class="c3">F</td><td class="s">elsif ($type eq &#39;E&#39;) { }</td></tr>
<tr><td class="h"><a id="L424">424</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">if ($name eq &#39;/&#39;)</td></tr>
<tr><td class="h"><a id="L434">434</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">$selfclose ? :</td></tr>
</table>
</body>
</html>
